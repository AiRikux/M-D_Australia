state$LON[state$state == "VIC"] <- 144.964600
state$LON[state$state == "WA"] <- 117.793221
state <- select(state, State = state, LAT, LON)
state
write_csv(state, "coord.csv")
state <- data.frame(state = msr$State)
mst <- read_csv("./marriage_state.csv")
state <- data.frame(state = mst$State)
state$LAT[state$state == "ACT"] <- -35.473469
state$LAT[state$state == "NSW"] <- -31.840233
state$LAT[state$state == "NT"] <- -19.491411
state$LAT[state$state == "QLD"] <- -20.917574
state$LAT[state$state == "SA"] <- -30.000233
state$LAT[state$state == "TAS"] <- -41.640079
state$LAT[state$state == "VIC"] <- -37.020100
state$LAT[state$state == "WA"] <- -25.042261
state$LON[state$state == "ACT"] <- 149.012375
state$LON[state$state == "NSW"] <- 145.612793
state$LON[state$state == "NT"] <- 132.550964
state$LON[state$state == "QLD"] <- 142.702789
state$LON[state$state == "SA"] <- 136.209152
state$LON[state$state == "TAS"] <- 146.315918
state$LON[state$state == "VIC"] <- 144.964600
state$LON[state$state == "WA"] <- 117.793221
state
write_csv(state, "coord.csv")
mst <- read_csv("./marriage_state.csv")
state <- data.frame(state = mst$state)
state$LAT[state$state == "ACT"] <- -35.473469
state$LAT[state$state == "NSW"] <- -31.840233
state$LAT[state$state == "NT"] <- -19.491411
state$LAT[state$state == "QLD"] <- -20.917574
state$LAT[state$state == "SA"] <- -30.000233
state$LAT[state$state == "TAS"] <- -41.640079
state$LAT[state$state == "VIC"] <- -37.020100
state$LAT[state$state == "WA"] <- -25.042261
state$LON[state$state == "ACT"] <- 149.012375
state$LON[state$state == "NSW"] <- 145.612793
state$LON[state$state == "NT"] <- 132.550964
state$LON[state$state == "QLD"] <- 142.702789
state$LON[state$state == "SA"] <- 136.209152
state$LON[state$state == "TAS"] <- 146.315918
state$LON[state$state == "VIC"] <- 144.964600
state$LON[state$state == "WA"] <- 117.793221
state
write_csv(state, "coord.csv")
mst <- read_csv("./marriage_state.csv")
msr <- select(mst, State = state, year, count = `total marriage`)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
state <- data.frame(state = msr$state)
state$LAT[state$state == "ACT"] <- -35.473469
state$LAT[state$state == "NSW"] <- -31.840233
state$LAT[state$state == "NT"] <- -19.491411
state$LAT[state$state == "QLD"] <- -20.917574
state$LAT[state$state == "SA"] <- -30.000233
state$LAT[state$state == "TAS"] <- -41.640079
state$LAT[state$state == "VIC"] <- -37.020100
state$LAT[state$state == "WA"] <- -25.042261
state$LON[state$state == "ACT"] <- 149.012375
state$LON[state$state == "NSW"] <- 145.612793
state$LON[state$state == "NT"] <- 132.550964
state$LON[state$state == "QLD"] <- 142.702789
state$LON[state$state == "SA"] <- 136.209152
state$LON[state$state == "TAS"] <- 146.315918
state$LON[state$state == "VIC"] <- 144.964600
state$LON[state$state == "WA"] <- 117.793221
state
write_csv(state, "coord.csv")
mst <- read_csv("./marriage_state.csv")
msr <- select(mst, State = state, year, count = `total marriage`)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
state <- data.frame(state = msr$State)
state$LAT[state$state == "ACT"] <- -35.473469
state$LAT[state$state == "NSW"] <- -31.840233
state$LAT[state$state == "NT"] <- -19.491411
state$LAT[state$state == "QLD"] <- -20.917574
state$LAT[state$state == "SA"] <- -30.000233
state$LAT[state$state == "TAS"] <- -41.640079
state$LAT[state$state == "VIC"] <- -37.020100
state$LAT[state$state == "WA"] <- -25.042261
state$LON[state$state == "ACT"] <- 149.012375
state$LON[state$state == "NSW"] <- 145.612793
state$LON[state$state == "NT"] <- 132.550964
state$LON[state$state == "QLD"] <- 142.702789
state$LON[state$state == "SA"] <- 136.209152
state$LON[state$state == "TAS"] <- 146.315918
state$LON[state$state == "VIC"] <- 144.964600
state$LON[state$state == "WA"] <- 117.793221
state
write_csv(state, "coord.csv")
runApp()
runApp()
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( "Australia" , zoom=2) %>%
addPolygons()
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( "Australia" , zoom=2) %>%
addPolygons(lat = LAT)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( "Australia" , zoom=2) %>%
addPolygons(lat = LAT, lng = LON)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( "Australia" , zoom=2) %>%
addPolygons(lat = mapy$LAT, lng = mapy$LON)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State, LAT, LON) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x@data
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( "Australia" , zoom=2)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State, LAT, LON) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x@data
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( lat = -25.274399, lng = 133.775131 , zoom=2)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State, LAT, LON) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x@data
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( lat = -25.274399, lng = 133.775131 , zoom=2)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State, LAT, LON) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x@data
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( lat = -25.274399, lng = 133.775131 , zoom=5)
mst <- read_csv("./marriage_state.csv")
coord <- read_csv("./coord.csv")
mst <- merge(mst,coord, y.by = state)
msr <- select(mst, State = state, year, count = `total marriage`, LAT, LON)
msr <- msr %>% group_by(State, LAT, LON) %>%
summarise(count = mean(count)) %>%
ungroup()
cc <- select(mst, State = state, year, count = `civil celebrants`)
cc <- cc %>% group_by(State) %>%
summarise(count = mean(count)) %>%
ungroup()
aus_map <- readOGR(
dsn= paste0(getwd(),"/aus_map/") ,
layer="gadm36_AUS_1",
verbose=FALSE)
numb <- select(cc, NAME_1 = State, other = count)
mapy <- select(msr, NAME_1 = State, count, LAT, LON)
mapy <- merge(mapy,numb, y.by = NAME_1)
# make it long form
mapy$NAME_1[mapy$NAME_1 == "ACT"] <- "Australian Capital Territory"
mapy$NAME_1[mapy$NAME_1 == "NSW"] <- "New South Wales"
mapy$NAME_1[mapy$NAME_1 == "NT"] <- "Northern Territory"
mapy$NAME_1[mapy$NAME_1 == "QLD"] <- "Queensland"
mapy$NAME_1[mapy$NAME_1 == "SA"] <- "South Australia"
mapy$NAME_1[mapy$NAME_1 == "TAS"] <- "Tasmania"
mapy$NAME_1[mapy$NAME_1 == "VIC"] <- "Victoria"
mapy$NAME_1[mapy$NAME_1 == "WA"] <- "Western Australia"
x <- merge(aus_map,mapy, y.by = NAME_1)
x@data
bins <- c(0, 800, 8840, 16880, 24920, 32960, 40000, Inf)
pal <- colorBin("RdPu", domain = mapy$count, bins = bins)
mypalette <- pal
labels <- sprintf(
"<strong>%s</strong><br/>Marriage: %g<br/>Civil Celebrants: %g",
x$NAME_1, round(x$count), round(x$other)
) %>% lapply(htmltools::HTML)
leaflet(x) %>%
addTiles()  %>%
setView( lat = -25.274399, lng = 133.775131 , zoom=4)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
